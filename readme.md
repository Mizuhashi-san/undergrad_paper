# 本研究に用いたソースコード
明治大学総合数理学部現象数理学科廣瀬研究室の卒業論文「パーシステントホモロジーによる印欧語族言語の構造比較」に向けたソースコードを掲載しております．GitHub上のipynbファイルを実行することで，研究再現が可能となります．


## `download_vec.py`
このモジュールは，スクレイピングパッケージ(requests と BeautifulSoup)を用いてfastText公式サイトに掲載されているダウンロードURLを特定し，事前学習済みモデルに含まれるベクトルデータをダウンロードします．

#### `download_fasttext_vec(lang_code, save_dir)`
Facebook (Meta) が公開している fastText の事前学習済み単語ベクトルを自動的に取得するための関数です．

## `calc_homology.py`
このモジュールは，パーシステントホモロジーを計算するためのコア機能を担います．`download_vec.py`によって入手したベクトルファイル（`.vec.gz`）に対して適切な正規化処理を行った後，Vietoris-Rips（V-R）複体に基づくパーシステント図を生成します．距離行列の算出からホモロジー計算までのパイプラインを提供します．

#### `vec_frequent(lang_code, num)`
圧縮ファイルから出現頻度上位の単語ベクトルを抽出し，数値配列として整形・正規化します．

#### `vietris_rips(point_cloud, metric, lang)`
与えられた点群データから距離行列を作成し，パーシステントホモロジーを計算します．


## `bars_statistics.py`
このモジュールは，計算されたパーシステント図（Diagrams）から統計量（バーの長さや寿命）を算出，その分布を可視化・分析するための機能を提供します．パーシステントホモロジーの結果として得られる情報を集計し，ホモロジー群のBirth, Death, Persistenceに関する統計的な特徴を抽出します．

#### `load_diagram_npz(path)`
計算済みのパーシステント図データ（`.npz`）を読み込みます．

#### `remove_inf(diagram)`
0次ホモロジーにおいて必ず出現する「寿命が無限（$Death = \infty$）」の点を除去し、統計計算への影響を防ぎます．

#### `bars_statistics(pd, col='birth', sta='median')`
パーシステント図から指定された指標の統計量を算出します．

#### `coloring(k, lang_list)`
言語コードに基づき、図示の際の色を決定します．
- **分類**: 
  - 赤系：スラブ語群（`ru`, `pl`など）
  - 緑系：ゲルマン語群（`en`, `de`, `no`など）
  - 青系：イタリック語派（`fr`, `it`, `es`など）
  - その他：インド語群（`hi`, `bn`）やバルト語群など

#### `plot_point(iter, lang_list, col, sta, ...)`
異なる距離尺度（例：コサイン距離とユークリッド距離）またはホモロジーの次数の間で統計量を比較プロットします．
